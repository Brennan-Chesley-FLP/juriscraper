<?xml version="1.0" encoding="UTF-8"?>
<!--
  Federal Court Coverage Map
  Auto-generated by scripts/generate_coverage_maps.py
  Coverage shown as grayscale by circuit: white (0%) to black (100%)
-->
<svg viewBox="0 0 959 620" xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <!-- Pattern for unknown circuits (no court data) -->
    <pattern id="unknown-pattern" patternUnits="userSpaceOnUse"
             width="10" height="10" patternTransform="rotate(45)">
      <line x1="0" y1="0" x2="0" y2="10" stroke="#999" stroke-width="2"/>
    </pattern>
  </defs>

  <style>
    .circuit {
      stroke: #333;
      stroke-width: 1.5;
      cursor: pointer;
      transition: stroke-width 0.2s;
    }
    .circuit:hover {
      stroke: #000;
      stroke-width: 3;
    }
    .circuit.current {
      stroke: {{ contrast_stroke }};
      stroke-width: 4;
    }
    .unknown {
      fill: url(#unknown-pattern);
    }
    .circuit-label {
      font-family: sans-serif;
      font-size: 14px;
      font-weight: bold;
      fill: #fff;
      stroke: #000;
      stroke-width: 0.5px;
      paint-order: stroke fill;
      pointer-events: none;
    }
    .legend-text {
      font-family: sans-serif;
      font-size: 12px;
    }
    .legend-small {
      font-family: sans-serif;
      font-size: 10px;
    }
  </style>

  <!-- Circuits: each circuit is a group of states with the same fill -->
  {% for circuit_num, circuit_data in circuits.items() %}
  <a xlink:href="ca{{ circuit_num|lower }}.html">
    <g id="circuit-{{ circuit_num }}"
       class="circuit{% if circuit_data.unknown %} unknown{% endif %}{% if circuit_data.current %} current{% endif %}">
      {% for state_code in circuit_data.states %}
      {% if state_code in states %}
      <path d="{{ states[state_code].path_data }}"
            fill="{{ circuit_data.fill_color }}"/>
      {% endif %}
      {% endfor %}
      <title>Circuit {{ circuit_num }}: {{ circuit_data.coverage_pct }}% coverage</title>
    </g>
  </a>
  {% endfor %}

  <!-- Circuit labels (positioned at approximate center of each circuit) -->
  {% for circuit_num, label_pos in circuit_labels.items() %}
  <text x="{{ label_pos.x }}" y="{{ label_pos.y }}" class="circuit-label">{{ circuit_num }}</text>
  {% endfor %}

  <!-- Legend (positioned north of New York) -->
  <g transform="translate(700, 40)">
    <text x="0" y="0" class="legend-text" font-weight="bold">Coverage</text>
    <defs>
      <linearGradient id="coverage-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#FFFFFF"/>
        <stop offset="100%" style="stop-color:#000000"/>
      </linearGradient>
    </defs>
    <rect x="0" y="10" width="100" height="15" fill="url(#coverage-gradient)" stroke="#000"/>
    <text x="0" y="40" class="legend-small">0%</text>
    <text x="90" y="40" class="legend-small">100%</text>
    <rect x="0" y="55" width="20" height="15" fill="url(#unknown-pattern)" stroke="#000"/>
    <text x="25" y="67" class="legend-small">Unknown</text>
  </g>
</svg>
