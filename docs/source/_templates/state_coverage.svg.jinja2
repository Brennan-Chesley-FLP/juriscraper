<?xml version="1.0" encoding="UTF-8"?>
<!--
  State Court Coverage Map
  Auto-generated by scripts/generate_coverage_maps.py
  Coverage shown as grayscale: white (0%) to black (100%)
-->
<svg viewBox="0 0 959 620" xmlns="http://www.w3.org/2000/svg"
     xmlns:xlink="http://www.w3.org/1999/xlink">
  <defs>
    <!-- Pattern for unknown jurisdictions (no court data) -->
    <pattern id="unknown-pattern" patternUnits="userSpaceOnUse"
             width="10" height="10" patternTransform="rotate(45)">
      <line x1="0" y1="0" x2="0" y2="10" stroke="#999" stroke-width="2"/>
    </pattern>
  </defs>

  <style>
    .state {
      stroke: #666;
      stroke-width: 1;
      cursor: pointer;
      transition: stroke-width 0.2s;
    }
    .state:hover {
      stroke: #000;
      stroke-width: 2;
    }
    .state.current {
      stroke: {{ contrast_stroke }};
      stroke-width: 3;
    }
    .unknown {
      fill: url(#unknown-pattern);
    }
    .legend-text {
      font-family: sans-serif;
      font-size: 12px;
    }
    .legend-small {
      font-family: sans-serif;
      font-size: 10px;
    }
  </style>

  <!-- All states/territories (paths already positioned correctly in Wikimedia SVG) -->
  {% for state_code, state_data in states.items() %}
  <a xlink:href="{{ state_code|lower }}.html">
    <path id="{{ state_code }}"
          class="state{% if state_data.unknown %} unknown{% endif %}{% if state_data.current %} current{% endif %}"
          fill="{{ state_data.fill_color }}"
          d="{{ state_data.path_data }}">
      <title>{{ state_data.name }}: {{ state_data.coverage_pct }}% coverage</title>
    </path>
  </a>
  {% endfor %}

  <!-- Legend (positioned north of New York) -->
  <g transform="translate(700, 40)">
    <text x="0" y="0" class="legend-text" font-weight="bold">Coverage</text>
    <defs>
      <linearGradient id="coverage-gradient" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%" style="stop-color:#FFFFFF"/>
        <stop offset="100%" style="stop-color:#000000"/>
      </linearGradient>
    </defs>
    <rect x="0" y="10" width="100" height="15" fill="url(#coverage-gradient)" stroke="#000"/>
    <text x="0" y="40" class="legend-small">0%</text>
    <text x="90" y="40" class="legend-small">100%</text>
    <rect x="0" y="55" width="20" height="15" fill="url(#unknown-pattern)" stroke="#000"/>
    <text x="25" y="67" class="legend-small">Unknown</text>
  </g>
</svg>
