# Court Site Research Report Template
#
# This file documents the schema for court website research reports.
# Use this as a template when researching new court sites.
#
# File naming: {domain_name}.toml (e.g., "judicial.alabama.gov.toml", "ecf.ca9.uscourts.gov.toml")

[meta]
domain = "texasattorneygeneral.gov"
court_ids = ["texag"]
court_name = "Texas Attorney General Reports"
court_url = "https://texasattorneygeneral.gov"
research_date = "2026-01-08"
researcher = "agent"

# =============================================================================
# ACCESS & AUTHENTICATION
# =============================================================================

[access]
# Is the site publicly accessible without login?
public_access = true

# Does the site require signup/registration?
requires_signup = false

# If signup required, how does one sign up?
signup_method = ""

# Does the site require payment or subscription?
requires_payment = false
payment_details = ""

# Does the site use captchas?
has_captcha = false
captcha_type = ""

# =============================================================================
# TECHNICAL CHARACTERISTICS
# =============================================================================

[technical]
# Does the site require JavaScript rendering?
requires_javascript = false
javascript_framework = "vanilla"

# What platform/vendor does the site use?
platform = "drupal"

# Is this a statewide portal or court-specific?
scope = "statewide"

# Does the site share infrastructure with other courts we scrape?
shared_infrastructure = []

# Does the site have an API?
has_api = false
api_documented = false
api_url = ""

# Are bulk downloads available?
bulk_download_available = false
bulk_download_details = ""

# What document formats are provided?
document_formats = ["pdf"]

# Session/authentication mechanism
auth_mechanism = ""

# =============================================================================
# ROBOTS & RATE LIMITING
# =============================================================================

[robots]
# Does the site have a robots.txt?
has_robots_txt = true
robots_txt_url = "https://texasattorneygeneral.gov/robots.txt"

# What does robots.txt say about our target paths?
allows_scraping = false
disallowed_paths = ["/node/", "/es/node/", "/search/", "/*?page=", "/*&page="]

# Any crawl-delay specified?
crawl_delay_seconds = 0

# Any other rate limit notices on the site?
rate_limit_notice = ""

# Terms of Service restrictions on automated access?
tos_restrictions = ""

# =============================================================================
# CONTENT & DATA TYPES
# =============================================================================

[content]
# What data types are available on this site?
# Reference: juriscraper/scraper_driver/common/models/base.py
#
# Mark each as: "available", "unavailable", "unknown", "partial"
# Use "partial" if only some records of that type are available
#
# For each content type:
#   status: availability status
#   notes: description and context
#   example_urls: 1-3 real URLs demonstrating this content type

# --- Core Case Data ---

[content.opinions]
status = "available"
notes = "Attorney General opinions are available dating back to 1939. Opinions are organized by Attorney General and available as PDF documents. The site displays recent opinions on the main page and provides searchable archives organized by AG."
example_urls = [
    "https://texasattorneygeneral.gov/opinions/ken-paxton/kp-0504",
    "https://texasattorneygeneral.gov/opinions/ken-paxton/kp-0503",
    "https://texasattorneygeneral.gov/opinions/greg-abbott/ga-1096"
]

[content.opinion_clusters]
status = "unavailable"
notes = "Attorney General opinions are standalone documents, not grouped into clusters."
example_urls = []

[content.citations]
status = "partial"
notes = "Citations may be present within the PDF documents themselves, but are not exposed as structured data on the website."
example_urls = []

[content.oral_arguments]
status = "unavailable"
notes = "Attorney General opinions are written documents only; no oral arguments."
example_urls = []

[content.audio_transcripts]
status = "unavailable"
notes = ""
example_urls = []

# --- Docket Data ---

[content.dockets]
status = "unavailable"
notes = "Attorney General opinions respond to opinion requests, not traditional case dockets."
example_urls = []

[content.docket_entries]
status = "unavailable"
notes = ""
example_urls = []

[content.recap_documents]
status = "unavailable"
notes = ""
example_urls = []

# --- Party & Attorney Data ---

[content.parties]
status = "unavailable"
notes = ""
example_urls = []

[content.party_types]
status = "unavailable"
notes = ""
example_urls = []

[content.attorneys]
status = "unavailable"
notes = ""
example_urls = []

[content.attorney_organizations]
status = "unavailable"
notes = ""
example_urls = []

[content.roles]
status = "unavailable"
notes = ""
example_urls = []

# --- People & Judges ---

[content.persons]
status = "unavailable"
notes = ""
example_urls = []

[content.positions]
status = "unavailable"
notes = ""
example_urls = []

[content.education]
status = "unavailable"
notes = ""
example_urls = []

[content.political_affiliations]
status = "unavailable"
notes = ""
example_urls = []

[content.aba_ratings]
status = "unavailable"
notes = ""
example_urls = []

[content.retention_events]
status = "unavailable"
notes = ""
example_urls = []

# --- Court & Location Data ---

[content.courts]
status = "unavailable"
notes = ""
example_urls = []

[content.courthouses]
status = "unavailable"
notes = ""
example_urls = []

# --- Bankruptcy-Specific ---

[content.bankruptcy_information]
status = "unavailable"
notes = ""
example_urls = []

[content.claims]
status = "unavailable"
notes = ""
example_urls = []

[content.claim_history]
status = "unavailable"
notes = ""
example_urls = []

# --- Criminal-Specific ---

[content.criminal_counts]
status = "unavailable"
notes = ""
example_urls = []

[content.criminal_complaints]
status = "unavailable"
notes = ""
example_urls = []

# --- Federal-Specific ---

[content.fjc_integrated_database]
status = "unavailable"
notes = ""
example_urls = []

[content.originating_court_information]
status = "unavailable"
notes = ""
example_urls = []

[content.pacer_html_files]
status = "unavailable"
notes = ""
example_urls = []

# --- SCOTUS-Specific ---

[content.scotus_docket_metadata]
status = "unavailable"
notes = ""
example_urls = []

# --- Citation Analysis ---

[content.opinions_cited]
status = "unavailable"
notes = ""
example_urls = []

[content.parentheticals]
status = "unavailable"
notes = ""
example_urls = []

# --- Other ---

[content.tags]
status = "available"
notes = "Opinions are categorized by topic (e.g., 'Counties and County Commissioners Courts', 'Legislature', etc.)"
example_urls = ["https://texasattorneygeneral.gov/opinions/ken-paxton/kp-0504"]

[content.search_queries]
status = "unavailable"
notes = ""
example_urls = []

# =============================================================================
# COVERAGE & FRESHNESS
# =============================================================================

[coverage]
# What is the apparent date range of available records?
url_is_current = true
alternate_urls = []
alternate_url_notes = ""
earliest_date = "1939-01-01"
latest_date = "ongoing"

# Are historical records available?
has_historical = true
historical_notes = "Opinions dating back to 1939 (Attorney General Gerald Mann) are available online. Coverage appears complete from 1939-present across 16 different Attorneys General."

# How often does the site appear to be updated?
update_frequency = "irregular"

# Is there a way to subscribe to updates?
has_subscription = false
subscription_type = ""
subscription_url = ""

# Is there a searchable index?
has_search = true
search_capabilities = ["full_text"]

# Is it browse-only?
browse_only = false

# =============================================================================
# EXISTING COVERAGE
# =============================================================================

[existing_scraper]
# Does an existing scraper in this repo cover this court?
has_scraper = true

# What module path(s)?
scraper_modules = ["juriscraper.opinions.united_states.state.texag"]

# What data types does the existing scraper cover?
covers_opinions = true
covers_oral_arguments = false
covers_dockets = false

# Known issues with existing scraper?
known_issues = ["Scraper targets class 'sidebar-ag-opinion-content' which may not match current HTML structure. Last updated 2023-01-28. The current page structure appears to have changed - the 'Most Recent Opinions' section on /opinions page may use different HTML classes now. Scraper needs verification and possible update."]

# =============================================================================
# JURISDICTION QUIRKS
# =============================================================================

[quirks]
# Any special local rules or unusual practices?
notes = "These are Attorney General opinions, not judicial opinions. They are legal interpretations of existing law provided to government officials, not court decisions. Opinions are organized by the Attorney General who issued them (KP = Ken Paxton, GA = Greg Abbott, etc.). Each opinion responds to a 'Request for Opinion' (RQ) from an authorized government official."

# Unusual document types specific to this jurisdiction?
special_document_types = ["Attorney General Opinion Requests (RQs)", "Letter Opinions"]

# Any known data quality issues?
data_quality_notes = ""

# Seasonal patterns (e.g., court recesses)?
seasonal_notes = ""

# =============================================================================
# RESEARCH NOTES
# =============================================================================

[research_notes]
# Free-form notes from the research process
summary = """
The Texas Attorney General website provides public access to AG opinions dating back to 1939. Opinions are well-organized by Attorney General and year, with PDFs available for download. Each opinion page includes the opinion number (docket), date, summary, PDF download link, and topical categories.

The site uses Drupal CMS and does not require JavaScript for basic navigation. However, robots.txt explicitly disallows ClaudeBot and blocks /node/ paths and pagination parameters.

An existing scraper exists (juriscraper.opinions.united_states.state.texag) but may need updating. The scraper was last modified in 2023 and targets CSS class 'sidebar-ag-opinion-content' which doesn't appear in current page structure based on accessibility snapshots. The HTML structure may have changed.

Key URL patterns:
- Main index: /opinions
- By AG: /opinions/{ag-name} (e.g., /opinions/ken-paxton)
- Individual opinion: /opinions/{ag-name}/{opinion-number} (e.g., /opinions/ken-paxton/kp-0504)
- PDF download: /sites/default/files/opinion-files/opinion/{year}/{opinion-number}.pdf

The site is straightforward to scrape from a technical perspective (static HTML, public access, PDFs), but robots.txt restrictions should be noted.
"""

# Recommended priority for building a scraper
priority = "medium"
priority_reasoning = "A scraper already exists but likely needs updating due to HTML structure changes. Attorney General opinions are valuable legal resources, but the existing coverage suggests this was already a known data source. Priority is medium because: (1) scraper exists and may still work, (2) robots.txt blocks automated access, (3) content is publicly valuable but not judicial opinions."

# Estimated complexity
complexity = "simple"
complexity_reasoning = "Static HTML pages, clear URL patterns, straightforward PDF links. No JavaScript required, no authentication, no pagination complexity. The main challenge is respecting robots.txt restrictions and verifying the current HTML structure matches what the scraper expects."

# Any blockers or concerns?
blockers = ["robots.txt explicitly disallows ClaudeBot and several scraping-related bots, and blocks /node/ paths and pagination parameters. While not a complete block, this indicates the site operators prefer to limit automated access."]
